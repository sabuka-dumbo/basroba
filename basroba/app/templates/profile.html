{% extends 'layout.html' %}
{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">
{% endblock %}

{% block title %}My Profile{% endblock %}

{% block body %}
<div class="profile">
    <!-- Sidebar -->
    <div class="sidebar">
        <h1>{{ user_info.first_name }} {{ user_info.last_name }}</h1>
        <a onclick="open_part1()" id="link-profile">👤 Profile Information</a>
        <a onclick="open_part3()" id="link-orders">📦 Orders</a>
        <a onclick="open_part2()" id="link-address">🏠 Address Information</a>
    </div>

    <!-- Main Content -->
    <div class="main-part">
        <div class="main-part1 card" id="main-part1" style="display: none;">
            <h1>Profile Information</h1>
            <div>
                <input type="text" placeholder="First Name" value="{{ user_info.first_name }}" id="first_name1">
                <input type="text" placeholder="Middle Name" value="{{ user_info.middle_name }}" id="middle_name1">
                <input type="text" placeholder="Last Name" value="{{ user_info.last_name }}" id="last_name1">
                <input type="number" placeholder="Id Number" value="{{ user_info.id_number }}" id="id_number1">
                <input type="email" placeholder="Email Address" value="{{ user_info.email_address }}" id="email_address1">
                <input type="number" placeholder="Phone Number" value="{{ user_info.phone_number }}" id="phone_number1">
                <button type="submit" onclick="save_user_info()" type="button">💾 Save</button>
            </div>
        </div>

        <!-- Address Information -->
        <div class="main-part2 card" id="main-part2" style="display: none;">
            <h1>Address Information</h1>
            <button type="button" class="add-address">➕ Add Address</button>

            {% for address in address_info %}
                <div class="address-div">
                    <h2 class="address">{{ address.street_address1 }}, {{ address.city }}, {{ address.country }}</h2>
                    <div class="address-actions">
                        <button type="button" class="change-address">✏️ Change</button>
                        <button type="button" class="delete-address">🗑 Delete</button>
                    </div>
                </div>
            {% endfor %}
        </div>

        <!-- Orders -->
        <div class="main-part3 card" id="main-part3" style="display: none;">
            <h1>My Orders</h1>
            {% for order in order_info %}
            <div class="order">
                <h2>🛒 Order #{{ order.id }}</h2>
                {% for item in order.items.all %}
                <div class="order-item">
                    <img src="{{ item.Item.Product_image1.url }}" alt="">
                    <h3>{{ item.Item.Product_name }}</h3>
                </div>
                {% endfor %}
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<script src="{% static 'js/profile.js' %}"></script>
{% endblock %}
